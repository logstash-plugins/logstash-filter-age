#logstash.conf
input {
  file {
    path => "/app/input.log"
  }
}

filter {
  age{
    "url" => "https://elasticsearch.main.top.elliemae.io/_cluster/settings?filter_path=persistent.cluster.metadata.optimizer.sleep_min_seconds"
    "limit_path" => "persistent.cluster.metadata.optimizer.sleep_min_seconds"
    "user" => "obs_ro"
    "password" => "Password!234"
    #"request_timeout" => 60
    #"socket_timeout" => 10
    #"connect_timeout" => 10
    #"automatic_retries" => 3
    "request_timeout" => 2
    "socket_timeout" => 1
    "connect_timeout" => 1
    "automatic_retries" => 1
  }
}

output {
  file {
    path => "/app/output.log"
    codec  => rubydebug {
      metadata => true
    }
  }
}
